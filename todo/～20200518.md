1. - POI ~ 高德POI接口

2. 建筑标点 精灵图 改为 ~ 动态定位[参考](http://cesium.marsgis.cn/cesium-example/editor.html#22_divpoint)

3. 地图偏移， 球体影响泛光

4. 现在冒泡弹窗使用需要注意几点

   1. 弹窗是基于某一个场景中的点point, 附着在点周围动态定位left/right属性来关联这个点

   2. point是应该作为一个prop传给组件的, 或者直接传动态计算出来的定位坐标给组件, 这里我选择了后者, 但是还是需要基于point来计算, 所以写法上相对有局限性

   3. 组件虽然不传入point这个prop, 但是是强关联的关系, 实时计算定位坐标来实现附着点

   4. ```js
      if (isBubble(name)) {
          const { x, y } = transToScreenCoord(point);
          // 更新screenPoint
          comp.$props.screenPoint.x = x;
          comp.$props.screenPoint.y = y;
      
          comp.setPosition();  // 动态定位
      }
      ```

   5. 所以需要额外维护一个 冒泡组件跟其附着的点位的 关系表 ref~point

5. **优化建议** 可以优化成一个容器外壳 -- 只做定位操作 Dynamic-Modal

6. 传入point关联冒泡弹窗

7. -  json 数据做本地持久化存储  Storage大小5M

8. - 本地导入JSON数据替代网络请求的方式保证建筑模型的最早呈现

9.  火灾标记

10.  标记点位

11. 居中[经纬度~空间坐标]

    1. camera lookAt 约等于 居中, 看向一个点 == 点位居中
    2. 需要调整一些相机的参数保证不会有奇怪的视角
    3. controls.target ~ 焦点

12. wheel & mousewheel 事件 不能再监听的地方触发? 

13. 圆圈扩散动画 -- 是否有随机选项, delay(random())

14. 精灵图模型遮挡depthTest/depthWrite

15. 返回楼栋居中楼.

16. 精灵图失真? --- (ok

17. 椎体 固定size 居中 (ok

18. fire动画动态半径 (ok

19. 室内图标(ok

20. 属性冒泡



### 网络请求大数据加载策略

1. 大量数据
2. 少量数据



#### 模型数据加载策略

   	1. 数据模型
              	1. 一开始就需要使用的数据
           - 数据量很大的文件 ( > 10M )
             1. 考虑优化拆分, 浏览器走网络请求加载一个大文件的效率不如加载几个小文件
             2. 使用浏览器的缓存机制, 使用协商缓存从硬盘中读取缓存文件, 减少网络数据传输
           - 数据量不算大的文件 ( < 1M )
             1. 可以采用本地引入数据的方式, 如webpack中的json-loader解析数据
              	2. 根据功能需要请求回的数据
        
            	1. 通过网络请求一些不经常改变的数据可以在首次请求成功之后使用持久化存储的方式缓存数据, 如浏览器的localStorage(注: Storage存储大小约为5MB, 考虑是否可以使用这种方式缓存以及需要合理规划缓存数据的大小)
              	2. 数据大小如果不大, 也可以考虑使用本地引入数据的方式
            	2. 



# 关注性能方面



### 严重影响帧数的操作

1. 场景相关的数据添加到data/prop
2. 相同类型的精灵图针对url到texture这一步骤做缓存, 公用texture
3. 



数据提供的 经纬度

目前还没关联世界坐标起来。主建筑模型目前都是在3dmax里面建好的。然后它自己的坐标并没有归0.所以就算给了我经纬度，我转换了位置还是无法将建筑放在对应的位置。